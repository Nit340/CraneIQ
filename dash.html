<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crane Monitoring Dashboard</title>
    <style>
       :root {
    --primary-color: #3498db;
    --secondary-color: #2980b9;
    --success-color: #2ecc71;
    --warning-color: #f39c12;
    --danger-color: #e74c3c;
    --light-color: #ecf0f1;
    --dark-color: #2c3e50;
    --gray-color: #95a5a6;
    --oee-color: #4361ee;
    --availability-color: #4cc9f0;
    --performance-color: #4895ef;
    --quality-color: #560bad;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f5f7fa;
    color: #333;
}

.container {
    display: grid;
    grid-template-columns: 60px 1fr;
    min-height: 100vh;
    transition: grid-template-columns 0.3s ease;
}

.container.sidebar-expanded {
    grid-template-columns: 250px 1fr;
}

/* Sidebar Styles */
.sidebar {
    background-color: var(--dark-color);
    color: white;
    padding: 20px 0;
    position: relative;
    z-index: 10;
    width: 60px;
    transition: width 0.3s ease, background-color 0.2s ease;
    overflow: hidden;
}

.sidebar:hover {
    width: 250px;
}

.sidebar:hover .nav-link span {
    display: inline;
    opacity: 1;
}

.sidebar.expanded {
    width: 250px;
}

.sidebar.expanded .nav-link span {
    display: inline;
    opacity: 1;
}
.logo {
    text-align: center;
    padding: 0 20px 20px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    display: none;
}

.nav-link {
    color: inherit;
    text-decoration: none;
    display: flex;
    align-items: center;
    width: 100%;
    padding: 12px 15px;
}

.nav-item.active .nav-link {
    color: white;
}

.nav-item:hover .nav-link {
    color: white;
}

.nav-menu {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    height: calc(100vh - 100px);
    justify-content: space-between;
}

.nav-item {
    cursor: pointer;
    transition: all 0.3s;
    white-space: nowrap;
    overflow: hidden;
}

.nav-item:hover {
    background-color: rgba(255,255,255,0.1);
}

.nav-item.active {
    background-color: var(--primary-color);
}

.nav-item i {
    width: 30px;
    text-align: center;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.nav-link span {
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    margin-left: 10px;
}

/* Main Content */
.main-content {
    padding: 20px;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    background-color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    position: sticky;
    top: 0;
    z-index: 5;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 20px;
}

.header-logo {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary-color);
}

.page-title {

    margin-bottom: 20px;
}

.page-title h1 {
    font-size: 1.8rem;
    color: var(--dark-color);
}

.page-title p {
    font-size: 0.9rem;
    color: var(--gray-color);
}

 /* Status Filter Bar */
.status-filter-bar {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    justify-content: center;
}

.status-filter {
    padding: 8px 15px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
}

.status-filter.all {
    background-color: var(--dark-color);
    color: white;
}

.status-filter.working {
    background-color: var(--success-color);
    color: white;
}

.status-filter.idle {
    background-color: var(--warning-color);
    color: white;
}

.status-filter.off {
    background-color: var(--gray-color);
    color: white;
}

.status-filter.overload {
    background-color: var(--danger-color);
    color: white;
}

.status-filter.error {
    background-color: #9b59b6;
    color: white;
}

.status-filter.active {
    transform: scale(1.05);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

/* Crane Status Cards */
.status-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 12px;
}

.status-card {
    background-color: white;
    border-radius: 5px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    padding: 10px;
    transition: all 0.3s;
    cursor: pointer;
    font-size: 0.8rem;
}

.status-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
}
.status-working {
    background-color: var(--success-color);
    color: white;
}

.status-idle {
    background-color: var(--warning-color);
    color: white;
}

.status-off {
    background-color: var(--gray-color);
    color: white;
}

.status-overload {
    background-color: var(--danger-color);
    color: white;
}

.status-error {
    background-color: #9b59b6;
    color: white;
}

.crane-name {
    font-size: 0.9rem;
    font-weight: 600;
    line-height: 1.2;
}

.crane-id {
    color: var(--gray-color);
    font-size: 0.75rem;
    margin-top: 2px;
}

.status-badge {
    padding: 3px 8px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
}

.status-card-body {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.status-card-body .status-metric {
    margin-bottom: 10px;
}

.status-card-body .metric-label {
    font-size: 0.65rem;
    color: var(--gray-color);
    margin-bottom: 3px;
}

.status-card-body .metric-value {
    font-weight: 600;
    font-size: 0.8rem;
}

.status-card-footer {
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.status-card-footer .last-updated {
    font-size: 0.7rem;
    color: var(--gray-color);
}

.status-card-footer .view-details {
    color: var(--primary-color);
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
}

/* Enhanced Dashboard Metrics Section */
.dashboard-stats-container {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 20px;
    margin-bottom: 20px;
}

.quick-stats {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.oee-container {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.stats-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.stats-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--dark-color);
}

.stats-refresh {
    color: var(--primary-color);
    font-size: 0.9rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.stat-card {
    padding: 15px;
    border-radius: 8px;
    background: #f8f9fa;
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 4px;
    height: 100%;
    background: var(--stat-color);
}

.stat-card.power {
    --stat-color: #4361ee;
}

.stat-card.current {
    --stat-color: #4cc9f0;
}

.stat-card.active {
    --stat-color: #2ecc71;
}

.stat-card.idle {
    --stat-color: #f39c12;
}

.stat-card.off {
    --stat-color: #6c757d;
}

.stat-card.overload {
    --stat-color: #e74c3c;
}

.stat-label {
    font-size: 0.75rem;
    color: var(--gray-color);
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    gap: 5px;
}

.stat-value {
    font-size: 1.4rem;
    font-weight: 700;
    margin-bottom: 3px;
}

.stat-unit {
    font-size: 0.8rem;
    color: var(--gray-color);
}

.stat-change {
    font-size: 0.7rem;
    display: flex;
    align-items: center;
    gap: 3px;
}

.stat-change.positive {
    color: #2ecc71;
}

.stat-change.negative {
    color: #e74c3c;
}

/* Enhanced OEE Section */
.oee-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.oee-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

.oee-title i {
    color: var(--oee-color);
    font-size: 1.3rem;
}

.oee-title h3 {
    font-size: 1.2rem;
    color: var(--dark-color);
    margin: 0;
    font-weight: 600;
}

.oee-trend {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.85rem;
    background: #f8f9fa;
    padding: 5px 10px;
    border-radius: 20px;
}

.trend-up {
    color: #2ecc71;
}

.trend-down {
    color: #e74c3c;
}

.oee-metrics-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.oee-metric-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    border-radius: 10px;
    background: #f8f9fa;
    transition: all 0.3s;
}

.oee-metric-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.oee-metric-card.oee {
    border-top: 3px solid var(--oee-color);
}

.oee-metric-card.availability {
    border-top: 3px solid var(--availability-color);
}

.oee-metric-card.performance {
    border-top: 3px solid var(--performance-color);
}

.oee-metric-card.quality {
    border-top: 3px solid var(--quality-color);
}

.metric-gauge {
    position: relative;
    width: 100%;
    height: 120px;
    margin-bottom: 10px;
}

.gauge-svg {
    width: 100%;
    height: 100%;
}

.gauge-circle {
    fill: none;
    stroke-width: 10;
    stroke-linecap: round;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
    transition: stroke-dashoffset 0.8s ease;
}

.gauge-background {
    stroke: #e9ecef;
}

.gauge-fill {
    stroke: currentColor;
}

.oee-metric-card.oee .gauge-fill {
    color: var(--oee-color);
}

.oee-metric-card.availability .gauge-fill {
    color: var(--availability-color);
}

.oee-metric-card.performance .gauge-fill {
    color: var(--performance-color);
}

.oee-metric-card.quality .gauge-fill {
    color: var(--quality-color);
}

.gauge-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.metric-value {
    font-size: 1.8rem;
    font-weight: 700;
    line-height: 1;
    color: var(--dark-color);
}

.metric-label {
    font-size: 0.85rem;
    color: var(--gray-color);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 5px;
    font-weight: 600;
}

.metric-description {
    font-size: 0.75rem;
    color: var(--gray-color);
    text-align: center;
    margin-top: 10px;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .dashboard-stats-container {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .status-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }
    
    .oee-metrics-row {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .header {
        flex-direction: column;
        gap: 10px;
    }
    
    .header-left {
        width: 100%;
        justify-content: space-between;
    }
    
    .page-title {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .status-grid {
        grid-template-columns: 1fr;
    }
    
    .oee-metrics-row {
        grid-template-columns: 1fr;
    }
    
    .container {
        grid-template-columns: 0 1fr;
    }
    
    .sidebar {
        width: 0;
    }
    
    .sidebar.expanded {
        width: 200px;
    }
    
    .container.sidebar-expanded {
        grid-template-columns: 200px 1fr;
    }
}

/* Dropdown menu styles */
/* Dropdown menu styles */
.dropdown-menu {
    display: none;
    padding-left: 20px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
}

.dropdown-menu.show {
    display: block;
    max-height: 200px;
}

.dropdown-item {
    padding: 10px 15px;
    display: flex;
    align-items: center;
    color: #fff;
    text-decoration: none;
    transition: all 0.2s;
}

.dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.dropdown-item i {
    margin-right: 10px;
}

.dropdown-toggle .dropdown-icon {
    margin-left: auto;
    transition: transform 0.3s ease;
}

.dropdown-toggle.show .dropdown-icon,
.sidebar:hover .dropdown-toggle.show .dropdown-icon {
    transform: rotate(180deg);
}

/* Close dropdowns when sidebar is collapsed */
.sidebar:not(:hover):not(.expanded) .dropdown-menu {
    display: none !important;
    max-height: 0 !important;
    padding: 0 !important;
}

.sidebar:not(:hover):not(.expanded) .dropdown-toggle.show .dropdown-icon {
    transform: rotate(0deg) !important;
}

/* Account Dropdown */
.user-info-wrapper {
    --primary-color: #4361ee;
    --danger-color: #ef233c;
    --text-color: #2b2d42;
    --hover-bg: #f8f9fa;
    --transition-speed: 0.25s;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

.account-dropdown {
    position: relative;
    display: inline-block;
}

.account-trigger {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all var(--transition-speed) ease;
    background: transparent;
    border: none;
    color: var(--text-color);
}

.account-trigger:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.account-trigger:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

.account-trigger .fa-user-circle {
    font-size: 1.5rem;
    color: var(--primary-color);
}

.account-trigger span {
    font-size: 0.875rem;
    font-weight: 500;
}

.account-trigger .fa-caret-down {
    font-size: 0.75rem;
    transition: transform var(--transition-speed);
}

.account-trigger.active .fa-caret-down {
    transform: rotate(180deg);
}

.account-menu {
    position: absolute;
    right: 0;
    top: calc(100% + 0.5rem);
    background-color: white;
    min-width: 180px;
    border-radius: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    padding: 0.5rem 0;
    z-index: 1000;
    opacity: 0;
    transform: translateY(-10px);
    visibility: hidden;
    transition: 
        opacity var(--transition-speed) ease,
        transform var(--transition-speed) ease;
}

.account-menu.show {
    opacity: 1;
    transform: translateY(0);
    visibility: visible;
}

.account-menu-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.625rem 1rem;
    color: var(--text-color);
    text-decoration: none;
    font-size: 0.875rem;
    transition: 
        background-color var(--transition-speed),
        color var(--transition-speed);
}

.account-menu-item:hover,
.account-menu-item:focus {
    background-color: var(--hover-bg);
    color: var(--primary-color);
}

.account-menu-item i {
    width: 1.25rem;
    text-align: center;
    color: inherit;
}

.account-menu-divider {
    height: 1px;
    background-color: #e9ecef;
    margin: 0.5rem 0;
}

.logout-account-btn {
    background: none;
    border: none;
    width: 100%;
    text-align: left;
    cursor: pointer;
    font: inherit;
    color: inherit;
}

.logout-account-btn:hover,
.logout-account-btn:focus {
    color: var(--danger-color) !important;
}
.account-menu-item.plan-info {
    background-color: #f8f9fa;
    color: var(--dark-color);
    font-weight: 600;
    justify-content: center;
    pointer-events: none;
}

.account-menu-item.plan-info i {
    margin-right: 8px;
}

/* Different colors for different plans */
.plan-basic { color: var(--primary-color); }
.plan-advanced { color: var(--success-color); }
.plan-pro { color: gold; }
.customer-logo{
    width:30px;
    height: 30px;
    border-radius: 50%;
    object-fit: cover;
}


.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 15px 20px;
    border-radius: 5px;
    color: white;
    display: flex;
    align-items: center;
    gap: 10px;
    transform: translateX(120%);
    transition: transform 0.3s ease;
    z-index: 1000;
}

.notification.show {
    transform: translateX(0);
}

.notification-success {
    background-color: var(--success-color);
}

.notification-error {
    background-color: var(--danger-color);
}

/* Settings dropdown without arrow */
.settings-dropdown .dropdown-icon {
    display: none;
}
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    
    
    <div class="container" id="mainContainer">
        <!-- Sidebar Navigation -->

      <div id="sidebar-container"></div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <div class="header">
                <div class="header-left">
                    <div class="header-logo">CraneIQ</div>
                </div>
                
               <div class="user-info-wrapper">
    <div class="account-dropdown">
        <div class="account-trigger" id="accountDropdownTrigger">
           <img src="image/houzz.png" class="customer-logo">
            <span>Hilton (Pro Plan)</span>
            <i class="fas fa-caret-down"></i>
        </div>
        <div class="account-menu" id="accountDropdownMenu">
            <div class="account-menu-item plan-info">
                <i class="fas fa-crown" style="color: gold;"></i>
                <span>Pro Plan</span>
            </div>
            <div class="account-menu-divider"></div>
            <a href="#" class="account-menu-item">
                <i class="fas fa-user"></i> Profile
            </a>
            <a href="#" class="account-menu-item">
                <i class="fas fa-sync-alt"></i> Upgrade Plan
            </a>
            <div class="account-menu-divider"></div>
            <button id="accountLogoutBtn" class="account-menu-item logout-account-btn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </div>
</div>
            </div>

<div class="page-title">
                    <h1>Dashboard Overview</h1>
                    <p>Real-time view of all crane operations</p>
                </div>
            <!-- Enhanced Dashboard Stats Container -->
            <div class="dashboard-stats-container">
                <!-- Quick Stats Section -->
                <div class="quick-stats">
                    <div class="stats-header">
                        <div class="stats-title">Quick Stats</div>
                        <div class="stats-refresh">
                            <i class="fas fa-sync-alt"></i>
                            <span>Refresh</span>
                        </div>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card power">
                            <div class="stat-label">
                                <i class="fas fa-bolt"></i>
                                <span>Total Power</span>
                            </div>
                            <div class="stat-value" id="totalPower">24.8</div>
                            <div class="stat-unit">kW</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>1.2% from yesterday</span>
                            </div>
                        </div>
                        <div class="stat-card current">
                            <div class="stat-label">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>Current Draw</span>
                            </div>
                            <div class="stat-value" id="totalCurrent">58.6</div>
                            <div class="stat-unit">A</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-down"></i>
                                <span>0.8% from yesterday</span>
                            </div>
                        </div>
                        <div class="stat-card active">
                            <div class="stat-label">
                                <i class="fas fa-cogs"></i>
                                <span>Active Cranes</span>
                            </div>
                            <div class="stat-value" id="activeCranes">3</div>
                            <div class="stat-unit">/6 total</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>50% utilization</span>
                            </div>
                        </div>
                        <div class="stat-card idle">
                            <div class="stat-label">
                                <i class="fas fa-pause"></i>
                                <span>Idle Cranes</span>
                            </div>
                            <div class="stat-value" id="idleCranes">2</div>
                            <div class="stat-unit">/6 total</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-down"></i>
                                <span>33% utilization</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced OEE Section -->
                <div class="oee-container">
                    <div class="oee-header">
                        <div class="oee-title">
                            <i class="fas fa-chart-pie"></i>
                            <h3>Overall Equipment Effectiveness</h3>
                        </div>
                        <div class="oee-trend">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span>2.5% from last week</span>
                        </div>
                    </div>
                    
                    <div class="oee-metrics-row">
                        <!-- Overall OEE -->
                        <div class="oee-metric-card oee">
                            <div class="metric-gauge">
                                <svg class="gauge-svg" viewBox="0 0 120 120">
                                    <circle class="gauge-circle gauge-background" cx="60" cy="60" r="50" stroke-width="10"></circle>
                                    <circle class="gauge-circle gauge-fill" cx="60" cy="60" r="50" stroke-width="10" 
                                        stroke-dasharray="314" stroke-dashoffset="72"></circle>
                                </svg>
                                <div class="gauge-text">
                                    <div class="metric-value" id="oee-value">77%</div>
                                </div>
                            </div>
                            <div class="metric-label">OEE</div>
                            <div class="metric-description">Overall equipment effectiveness</div>
                        </div>
                        
                        <!-- Availability -->
                        <div class="oee-metric-card availability">
                            <div class="metric-gauge">
                                <svg class="gauge-svg" viewBox="0 0 120 120">
                                    <circle class="gauge-circle gauge-background" cx="60" cy="60" r="50" stroke-width="10"></circle>
                                    <circle class="gauge-circle gauge-fill" cx="60" cy="60" r="50" stroke-width="10" 
                                        stroke-dasharray="314" stroke-dashoffset="25"></circle>
                                </svg>
                                <div class="gauge-text">
                                    <div class="metric-value" id="availability-value">92%</div>
                                </div>
                            </div>
                            <div class="metric-label">Availability</div>
                            <div class="metric-description">Uptime vs planned production</div>
                        </div>
                        
                        <!-- Performance -->
                        <div class="oee-metric-card performance">
                            <div class="metric-gauge">
                                <svg class="gauge-svg" viewBox="0 0 120 120">
                                    <circle class="gauge-circle gauge-background" cx="60" cy="60" r="50" stroke-width="10"></circle>
                                    <circle class="gauge-circle gauge-fill" cx="60" cy="60" r="50" stroke-width="10" 
                                        stroke-dasharray="314" stroke-dashoffset="47"></circle>
                                </svg>
                                <div class="gauge-text">
                                    <div class="metric-value" id="performance-value">85%</div>
                                </div>
                            </div>
                            <div class="metric-label">Performance</div>
                            <div class="metric-description">Speed vs ideal cycle time</div>
                        </div>
                        
                        <!-- Quality -->
                        <div class="oee-metric-card quality">
                            <div class="metric-gauge">
                                <svg class="gauge-svg" viewBox="0 0 120 120">
                                    <circle class="gauge-circle gauge-background" cx="60" cy="60" r="50" stroke-width="10"></circle>
                                    <circle class="gauge-circle gauge-fill" cx="60" cy="60" r="50" stroke-width="10" 
                                        stroke-dasharray="314" stroke-dashoffset="6"></circle>
                                </svg>
                                <div class="gauge-text">
                                    <div class="metric-value" id="quality-value">98%</div>
                                </div>
                            </div>
                            <div class="metric-label">Quality</div>
                            <div class="metric-description">Good parts vs total produced</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Status Filter Bar -->
            <div class="status-filter-bar">
                <div class="status-filter all active" data-status="all">
                    <i class="fas fa-list"></i>
                    <span>All Cranes</span>
                </div>
                <div class="status-filter working" data-status="working">
                    <i class="fas fa-hard-hat"></i>
                    <span>Working</span>
                </div>
                <div class="status-filter idle" data-status="idle">
                    <i class="fas fa-pause-circle"></i>
                    <span>Idle</span>
                </div>
                <div class="status-filter off" data-status="off">
                    <i class="fas fa-power-off"></i>
                    <span>Off</span>
                </div>
                <div class="status-filter overload" data-status="overload">
                    <i class="fas fa-weight-hanging"></i>
                    <span>Overload</span>
                </div>
                <div class="status-filter error" data-status="error">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Errors</span>
                </div>
            </div>
            
            <!-- Status Grid -->
            <div class="status-grid">
                <!-- Crane 1 - Working -->
                <div class="status-card" data-status="working" data-crane-id="CRN-001">
                    <div class="status-card-header">
                        <div>
                            <div class="crane-name">Gantry Crane #1</div>
                            <div class="crane-id">ID: CRN-001</div>
                        </div>
                        <div class="status-badge status-working">Working</div>
                    </div>
                    <div class="status-card-body">
                        <div class="status-metric">
                            <div class="metric-label">Current Load</div>
                            <div class="metric-value">4,250 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Capacity</div>
                            <div class="metric-value">5,000 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Duty Cycle</div>
                            <div class="metric-value">75%</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Health</div>
                            <div class="metric-value">94%</div>
                        </div>
                    </div>
                    <div class="status-card-footer">
                        <div class="last-updated">Updated 2 mins ago</div>
                        <div class="view-details">
                            <span>Details</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Crane 2 - Idle -->
                <div class="status-card" data-status="idle" data-crane-id="CRN-002">
                    <div class="status-card-header">
                        <div>
                            <div class="crane-name">Overhead Crane #2</div>
                            <div class="crane-id">ID: CRN-002</div>
                        </div>
                        <div class="status-badge status-idle">Idle</div>
                    </div>
                    <div class="status-card-body">
                        <div class="status-metric">
                            <div class="metric-label">Current Load</div>
                            <div class="metric-value">0 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Capacity</div>
                            <div class="metric-value">10,000 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Duty Cycle</div>
                            <div class="metric-value">45%</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Health</div>
                            <div class="metric-value">88%</div>
                        </div>
                    </div>
                    <div class="status-card-footer">
                        <div class="last-updated">Updated 5 mins ago</div>
                        <div class="view-details">
                            <span>Details</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Crane 3 - Overload -->
                <div class="status-card" data-status="overload" data-crane-id="CRN-003">
                    <div class="status-card-header">
                        <div>
                            <div class="crane-name">Jib Crane #3</div>
                            <div class="crane-id">ID: CRN-003</div>
                        </div>
                        <div class="status-badge status-overload">Overload</div>
                    </div>
                    <div class="status-card-body">
                        <div class="status-metric">
                            <div class="metric-label">Current Load</div>
                            <div class="metric-value">6,200 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Capacity</div>
                            <div class="metric-value">5,000 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Duty Cycle</div>
                            <div class="metric-value">82%</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Health</div>
                            <div class="metric-value">76%</div>
                        </div>
                    </div>
                    <div class="status-card-footer">
                        <div class="last-updated">Updated 1 min ago</div>
                        <div class="view-details">
                            <span>Details</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Crane 4 - Error -->
                <div class="status-card" data-status="error" data-crane-id="CRN-004">
                    <div class="status-card-header">
                        <div>
                            <div class="crane-name">Bridge Crane #4</div>
                            <div class="crane-id">ID: CRN-004</div>
                        </div>
                        <div class="status-badge status-error">Error</div>
                    </div>
                    <div class="status-card-body">
                        <div class="status-metric">
                            <div class="metric-label">Error Code</div>
                            <div class="metric-value">E-429</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Error Type</div>
                            <div class="metric-value">Motor Overheat</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Temperature</div>
                            <div class="metric-value">92°C</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Health</div>
                            <div class="metric-value">65%</div>
                        </div>
                    </div>
                    <div class="status-card-footer">
                        <div class="last-updated">Updated 8 mins ago</div>
                        <div class="view-details">
                            <span>Details</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Crane 5 - Off -->
                <div class="status-card" data-status="off" data-crane-id="CRN-005">
                    <div class="status-card-header">
                        <div>
                            <div class="crane-name">Gantry Crane #5</div>
                            <div class="crane-id">ID: CRN-005</div>
                        </div>
                        <div class="status-badge status-off">Off</div>
                    </div>
                    <div class="status-card-body">
                        <div class="status-metric">
                            <div class="metric-label">Last Operation</div>
                            <div class="metric-value">12 hours ago</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Capacity</div>
                            <div class="metric-value">8,000 kg</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Duty Cycle</div>
                            <div class="metric-value">30%</div>
                        </div>
                        <div class="status-metric">
                            <div class="metric-label">Health</div>
                            <div class="metric-value">90%</div>
                        </div>
                    </div>
                    <div class="status-card-footer">
                        <div class="last-updated">Updated 1 hour ago</div>
                        <div class="view-details">
                            <span>Details</span>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Load the sidebar
        fetch('sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
                initializeSidebar(); // Call this after loading
            });

        function initializeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            if (sidebar && sidebarToggle) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('expanded');
                    document.querySelector('.container').classList.toggle('sidebar-expanded');
                });

                // Dropdown functionality
                document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        const dropdown = this.closest('.dropdown');
                        const menu = dropdown.querySelector('.dropdown-menu');
                        
                        // Close all other dropdowns
                        closeAllDropdownsExcept(menu, this);
                        
                        // Toggle current dropdown
                        menu.classList.toggle('show');
                        this.classList.toggle('show');
                    });
                });

                // Function to close all dropdowns
                function closeAllDropdowns() {
                    document.querySelectorAll('.dropdown-menu').forEach(m => {
                        m.classList.remove('show');
                    });
                    document.querySelectorAll('.dropdown-toggle').forEach(t => {
                        t.classList.remove('show');
                    });
                }

                // Function to close all dropdowns except a specific one
                function closeAllDropdownsExcept(exceptMenu = null, exceptToggle = null) {
                    document.querySelectorAll('.dropdown-menu').forEach(m => {
                        if (m !== exceptMenu) m.classList.remove('show');
                    });
                    document.querySelectorAll('.dropdown-toggle').forEach(t => {
                        if (t !== exceptToggle) t.classList.remove('show');
                    });
                }

                // Close dropdowns when sidebar is collapsed
                sidebarToggle.addEventListener('click', function() {
                    if (!sidebar.classList.contains('expanded')) {
                        closeAllDropdowns();
                    }
                });

                // Also close dropdowns when clicking outside
                document.addEventListener('click', function(e) {
                    if (!e.target.closest('.dropdown')) {
                        closeAllDropdowns();
                    }
                });
            }
        }
    });
</script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    const dropdownTrigger = document.getElementById('accountDropdownTrigger');
    const dropdownMenu = document.getElementById('accountDropdownMenu');


  

    // Toggle dropdown when clicking the trigger
    dropdownTrigger.addEventListener('click', function(e) {
        e.stopPropagation();
        dropdownMenu.classList.toggle('show');
    });

    // Close dropdown when clicking anywhere else
    document.addEventListener('click', function() {
        dropdownMenu.classList.remove('show');
    });
    
    // Prevent dropdown from closing when clicking inside it
    dropdownMenu.addEventListener('click', function(e) {
        e.stopPropagation();
    });

    // Global data storage
    const craneData = {
        'CRN-001': {
            name: 'Gantry Crane #1',
            status: 'Working',
            updated: '2 mins ago',
            load: '4,250 kg',
            capacity: '5,000 kg',
            height: '12.4 m',
            position: 'Bay 3',
            type: 'Gantry Crane',
            manufacturer: 'CraneCo',
            model: 'GC-5000',
            serial: 'GC-2021-001',
            installDate: '2021-03-15',
            maintenance: '2023-05-20',
            lastOp: 'Hoisting (08:23 AM)',
            opDuration: '2:15',
            dutyCycle: '75%',
            operator: 'Operator 3',
            temp: '65°C',
            voltage: '415V',
            health: '94%',
            devices: ['DEV-001', 'DEV-002']
        },
        'CRN-002': {
            name: 'Overhead Crane #2',
            status: 'Idle',
            updated: '5 mins ago',
            load: '0 kg',
            capacity: '10,000 kg',
            height: '8.7 m',
            position: 'Bay 1',
            type: 'Overhead Crane',
            manufacturer: 'LiftMaster',
            model: 'OH-10000',
            serial: 'OH-2022-042',
            installDate: '2022-04-15',
            maintenance: '2023-06-10',
            lastOp: 'Moving (09:45 AM)',
            opDuration: '1:30',
            dutyCycle: '45%',
            operator: 'Operator 1',
            temp: '58°C',
            voltage: '410V',
            health: '88%',
            devices: ['DEV-003']
        },
        'CRN-003': {
            name: 'Jib Crane #3',
            status: 'Overload',
            updated: '1 min ago',
            load: '6,200 kg',
            capacity: '5,000 kg',
            height: '5.1 m',
            position: 'Dock 2',
            type: 'Jib Crane',
            manufacturer: 'SwingLift',
            model: 'JC-5000',
            serial: 'JC-2020-015',
            installDate: '2020-11-10',
            maintenance: '2023-04-05',
            lastOp: 'Rotating (10:15 AM)',
            opDuration: '0:45',
            dutyCycle: '82%',
            operator: 'Operator 2',
            temp: '72°C',
            voltage: '408V',
            health: '76%',
            devices: ['DEV-004']
        },
        'CRN-004': {
            name: 'Bridge Crane #4',
            status: 'Error',
            updated: '8 mins ago',
            load: '3,800 kg',
            capacity: '8,000 kg',
            height: '9.5 m',
            position: 'Bay 2',
            type: 'Bridge Crane',
            manufacturer: 'SpanMaster',
            model: 'BC-8000',
            serial: 'BC-2021-033',
            installDate: '2021-07-22',
            maintenance: '2023-03-18',
            lastOp: 'Traversing (09:30 AM)',
            opDuration: '1:10',
            dutyCycle: '68%',
            operator: 'Operator 4',
            temp: '92°C',
            voltage: '408V',
            health: '65%',
            devices: ['DEV-005']
        },
        'CRN-005': {
            name: 'Gantry Crane #5',
            status: 'Off',
            updated: '1 hour ago',
            load: '0 kg',
            capacity: '8,000 kg',
            height: '0 m',
            position: 'Storage Area',
            type: 'Gantry Crane',
            manufacturer: 'CraneCo',
            model: 'GC-8000',
            serial: 'GC-2022-008',
            installDate: '2022-02-14',
            maintenance: '2023-07-01',
            lastOp: 'N/A',
            opDuration: 'N/A',
            dutyCycle: '30%',
            operator: 'N/A',
            temp: '32°C',
            voltage: '0V',
            health: '90%',
            devices: ['DEV-006']
        }
    };

    const deviceData = {
        'DEV-001': {
            id: 'DEV-001',
            hardwareVersion: '2.3.0',
            softwareVersion: '1.2.0',
            model: 'XYZ-1000',
            status: 'Active',
            lastSeen: '5 mins ago'
        },
        'DEV-002': {
            id: 'DEV-002',
            hardwareVersion: '2.1.0',
            softwareVersion: '1.1.5',
            model: 'XYZ-2000',
            status: 'Active',
            lastSeen: '10 mins ago'
        },
        'DEV-003': {
            id: 'DEV-003',
            hardwareVersion: '3.0.1',
            softwareVersion: '2.0.0',
            model: 'ABC-3000',
            status: 'Warning',
            lastSeen: '15 mins ago'
        },
        'DEV-004': {
            id: 'DEV-004',
            hardwareVersion: '2.5.2',
            softwareVersion: '1.3.1',
            model: 'XYZ-2500',
            status: 'Critical',
            lastSeen: '2 mins ago'
        },
        'DEV-005': {
            id: 'DEV-005',
            hardwareVersion: '3.1.0',
            softwareVersion: '2.1.0',
            model: 'ABC-3100',
            status: 'Error',
            lastSeen: '8 mins ago'
        },
        'DEV-006': {
            id: 'DEV-006',
            hardwareVersion: '2.0.0',
            softwareVersion: '1.0.5',
            model: 'XYZ-1000',
            status: 'Offline',
            lastSeen: '1 hour ago'
        }
    };

    // DOM Elements
    const statusGrid = document.querySelector('.status-grid');
    const statusFilters = document.querySelectorAll('.status-filter');
    const logoutBtn = document.getElementById('accountLogoutBtn');
    const refreshBtn = document.querySelector('.stats-refresh');

    // Initialize the application
    function init() {
        renderCraneGrid();
        setupEventListeners();
        checkAuth();
        updateDashboardMetrics();
        updateOEE();
        displayUserPlan();
    }
    const userPlan = 'pro'; // This would come from your auth system

function displayUserPlan() {
       // Option 1: For user dropdown
    const planName = userPlan.charAt(0).toUpperCase() + userPlan.slice(1);
    document.querySelector('.account-trigger span').textContent = `Hilton (${planName} Plan)`;
    
    // Update plan info in dropdown
    const planItem = document.querySelector('.account-menu-item.plan-info');
    planItem.innerHTML = `<i class="fas ${userPlan === 'pro' ? 'fa-crown' : userPlan === 'advanced' ? 'fa-star' : 'fa-user'}"></i>
                         <span>${planName} Plan</span>`;
    planItem.classList.add(`plan-${userPlan}`);
}


    // Render all cranes in the grid
    function renderCraneGrid() {
        statusGrid.innerHTML = '';
        Object.keys(craneData).forEach(craneId => {
            statusGrid.appendChild(createCraneCard(craneData[craneId], craneId));
        });
    }

    function createCraneCard(crane, craneId) {
        const card = document.createElement('div');
        card.className = 'status-card';
        card.dataset.status = crane.status.toLowerCase();
        card.dataset.craneId = craneId;
        
        let deviceIds = 'None';
        if (crane.devices && crane.devices.length > 0) {
            deviceIds = crane.devices.join(', ');
        }
        
        card.innerHTML = `
            <div class="status-card-header">
                <div>
                    <div class="crane-name">${crane.name}</div>
                    <div class="crane-id">ID: ${craneId}</div>
                </div>
                <div class="status-badge status-${crane.status.toLowerCase()}">${crane.status}</div>
            </div>
            <div class="status-card-body">
                <div class="status-metric">
                    <div class="metric-label">Current Load</div>
                    <div class="metric-value">${crane.load}</div>
                </div>
                <div class="status-metric">
                    <div class="metric-label">Capacity</div>
                    <div class="metric-value">${crane.capacity}</div>
                </div>
                <div class="status-metric">
                    <div class="metric-label">Device IDs</div>
                    <div class="metric-value device-ids">${deviceIds}</div>
                </div>
                <div class="status-metric">
                    <div class="metric-label">Health</div>
                    <div class="metric-value">${crane.health}</div>
                </div>
            </div>
            <div class="status-card-footer">
                <div class="last-updated">Updated ${crane.updated}</div>
                <div class="view-details">
                    <span>Details</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        `;
        
        card.addEventListener('click', () => {
            window.location.href = `crane-details.html?id=${craneId}&status=${encodeURIComponent(crane.status)}&name=${encodeURIComponent(crane.name)}`;
        });
        
        return card;
    }

    // Update dashboard metrics
    function updateDashboardMetrics() {
        let totalPower = 0;
        let totalCurrent = 0;
        let voltageSum = 0;
        let voltageCount = 0;
        let activeCranes = 0;
        let idleCranes = 0;
        let offCranes = 0;
        let overloadCranes = 0;
        let errorCranes = 0;

        Object.values(craneData).forEach(crane => {
            switch(crane.status.toLowerCase()) {
                case 'working':
                    activeCranes++;
                    break;
                case 'idle':
                    idleCranes++;
                    break;
                case 'off':
                    offCranes++;
                    break;
                case 'overload':
                    overloadCranes++;
                    break;
                case 'error':
                    errorCranes++;
                    break;
            }

            if (crane.status === 'Working') {
                const load = parseFloat(crane.load.replace(/[^0-9.]/g, '')) || 0;
                const capacity = parseFloat(crane.capacity.replace(/[^0-9.]/g, '')) || 1;
                const loadRatio = Math.min(load / capacity, 1);
                totalPower += 5 + (15 * loadRatio);
                totalCurrent += 10 + (30 * loadRatio);
            } else if (crane.status === 'Idle') {
                totalPower += 2;
                totalCurrent += 5;
            }

            if (crane.voltage) {
                const voltage = parseFloat(crane.voltage.replace(/[^0-9.]/g, '')) || 0;
                if (voltage > 0) {
                    voltageSum += voltage;
                    voltageCount++;
                }
            }
        });

        document.getElementById('totalPower').textContent = totalPower.toFixed(1);
        document.getElementById('totalCurrent').textContent = totalCurrent.toFixed(1);
        document.getElementById('activeCranes').textContent = activeCranes;
        document.getElementById('idleCranes').textContent = idleCranes;
        
        animateMetricUpdate();
    }

    function updateOEE() {
        // Calculate OEE metrics based on crane data
        let totalPlannedTime = 8 * 60; // 8 hours in minutes (for demo)
        let totalDowntime = 0;
        let totalRuntime = 0;
        let totalIdealOutput = 0;
        let totalActualOutput = 0;
        let totalGoodOutput = 0;
        
        // Simulate calculations based on crane statuses
        Object.values(craneData).forEach(crane => {
            if (crane.status === 'Off') {
                totalDowntime += 480; // 8 hours if crane is off
            } else if (crane.status === 'Idle') {
                totalDowntime += 120; // 2 hours if idle
            } else {
                totalRuntime += 480; // 8 hours if working
                
                // Simulate performance and quality metrics
                const capacity = parseInt(crane.capacity.replace(/[^0-9]/g, ''));
                const load = parseInt(crane.load.replace(/[^0-9]/g, '')) || 0;
                
                if (crane.status === 'Working') {
                    totalIdealOutput += 100; // 100 units ideal
                    totalActualOutput += 85; // 85 units actual (85% performance)
                    totalGoodOutput += 83; // 83 good units (98% quality)
                } else if (crane.status === 'Overload') {
                    totalIdealOutput += 100;
                    totalActualOutput += 70;
                    totalGoodOutput += 65; // lower quality for overload
                } else if (crane.status === 'Error') {
                    totalIdealOutput += 100;
                    totalActualOutput += 50;
                    totalGoodOutput += 45; // lower quality for error state
                }
            }
        });
        
        // Calculate OEE components
        const availability = ((totalPlannedTime - totalDowntime) / totalPlannedTime) * 100;
        const performance = (totalActualOutput / totalIdealOutput) * 100;
        const quality = (totalGoodOutput / totalActualOutput) * 100;
        const oee = (availability * performance * quality) / 10000; // Convert to percentage
        
        // Update the numeric displays
        document.getElementById('availability-value').textContent = Math.round(availability) + '%';
        document.getElementById('performance-value').textContent = Math.round(performance) + '%';
        document.getElementById('quality-value').textContent = Math.round(quality) + '%';
        document.getElementById('oee-value').textContent = Math.round(oee) + '%';
        
        // Update SVG gauge fills
        updateGaugeFill('.oee-metric-card.oee .gauge-fill', oee);
        updateGaugeFill('.oee-metric-card.availability .gauge-fill', availability);
        updateGaugeFill('.oee-metric-card.performance .gauge-fill', performance);
        updateGaugeFill('.oee-metric-card.quality .gauge-fill', quality);
        
        // Update trend indicator (simplified example)
        const trendElement = document.querySelector('.oee-trend');
        const trendValue = Math.random() * 5; // Random trend for demo
        if (trendValue > 2.5) {
            trendElement.innerHTML = `<i class="fas fa-arrow-up trend-up"></i><span>${trendValue.toFixed(1)}% from last week</span>`;
        } else {
            trendElement.innerHTML = `<i class="fas fa-arrow-down trend-down"></i><span>${trendValue.toFixed(1)}% from last week</span>`;
        }
    }
    
    function updateGaugeFill(selector, percentage) {
        const circumference = 2 * Math.PI * 50; // 2πr where r=50
        const offset = circumference - (percentage / 100) * circumference;
        document.querySelector(selector).style.strokeDashoffset = offset;
    }

    // Animate metric updates
    function animateMetricUpdate() {
        const metricValues = document.querySelectorAll('.stat-value');
        metricValues.forEach(value => {
            value.classList.add('metric-update');
            setTimeout(() => {
                value.classList.remove('metric-update');
            }, 500);
        });
    }

    // Show notification
    function showNotification(message, type) {
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
            <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
            <span>${message}</span>
        `;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.classList.add('show');
        }, 10);
        
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 300);
        }, 3000);
    }

    // Filter cranes by status
    function filterCranes(status) {
        const cards = document.querySelectorAll('.status-card');
        cards.forEach(card => {
            card.style.display = (status === 'all' || card.dataset.status === status) ? 'block' : 'none';
        });

        statusFilters.forEach(filter => {
            filter.classList.toggle('active', filter.dataset.status === status);
        });
    }

    // Setup all event listeners
    function setupEventListeners() {
        // Status filter
        statusFilters.forEach(filter => {
            filter.addEventListener('click', function() {
                const status = this.dataset.status;
                filterCranes(status);
            });
        });

        // Logout
        if (logoutBtn) {
            logoutBtn.addEventListener('click', logout);
        }
        
        // Refresh stats
        if (refreshBtn) {
            refreshBtn.addEventListener('click', function() {
                updateDashboardMetrics();
                updateOEE();
                showNotification('Dashboard data refreshed', 'success');
            });
        }
    }

    // Authentication functions
    function checkAuth() {
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = 'index.html';
        }
    }

    function logout() {
        localStorage.removeItem('isLoggedIn');
        window.location.href = 'index.html';
    }

    // Initialize the app
    init();
});
    </script>
</body>
</html>